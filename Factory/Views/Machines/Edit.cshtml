@{
  Layout = "_Layout";
}@{
  Layout = "_Layout";
}

@model Factory.Models.Machine

<div class="view-header"><h2>Editing <span class="highlighted">@Model.Manufacturer @Model.Model</span></h2></div>

<div class="view-body edit">

@using (Html.BeginForm(FormMethod.Post, new { @class = "edit-form" }))
{
  @Html.HiddenFor(model => model.MachineId)

  <div class="form-row">
    @Html.LabelFor(model => model.Manufacturer)
    @Html.EditorFor(model => model.Manufacturer, new { htmlAttributes = new { placeholder = @Model.Manufacturer } })
    @Html.ValidationMessageFor(model => model.Manufacturer, "", new { @class = "error-message" })
  </div>
  <div class="form-row">
    @Html.LabelFor(model => model.Model)
    @Html.EditorFor(model => model.Model)
    @Html.ValidationMessageFor(model => model.Model, "", new { @class = "error-message" })
  </div>
  <div class="form-row text-area">
    @Html.LabelFor(model => model.Description)
    <textarea name="Description">@Model.Description</textarea>
    @Html.ValidationMessageFor(model => model.Description, "", new { @class = "error-message" })
  </div>
  <div class="form-row">
    @Html.LabelFor(model => model.PurchaseDate, "Purchase date")
    @Html.EditorFor(model => model.PurchaseDate)
    @* <input value=@Model.PurchaseDate type="date" name="PurchaseDate"> *@
    @Html.ValidationMessageFor(model => model.PurchaseDate, "", new { @class = "error-message" })
  </div>
  <div class="form-row">
    @Html.LabelFor(model => model.Status)
    <select name="Status">
      @if (Model.Status == "Operational") {
        <option selected value="Operational">Operational</option>
        <option value="Malfunctioning">Malfunctioning</option>
        
      } else {
        <option value="Operational">Operational</option>
        <option selected value="Malfunctioning">Malfunctioning</option>
      }
      
    </select>
  </div>
  <button class="green" type="submit">Save</button>
}

</div>

<div class="button-area">
  <a href='@Url.Action("Details", "Machines", new { id = Model.MachineId })'>
    <button>Cancel</button>
  </a>
</div>